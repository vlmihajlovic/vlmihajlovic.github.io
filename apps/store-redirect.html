<!doctype html>
<html lang="sr">
<head>
  <script>(function(){const t=localStorage.getItem("theme"); if(t) document.documentElement.setAttribute("data-theme", t);})();</script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Store redirect</title>
  <style>
    :root {
      --bg: #050a19;
      --card: rgba(255,255,255,0.06);
      --stroke: rgba(255,255,255,0.12);
      --muted: #a5adbd;
      --text: #eef2f6;
      --orange: #ff7a00;
      --orange-2: #f25f00;
    }
    :root[data-theme="light"] {
      --bg: #f6f8fb;
      --card: rgba(0,0,0,0.03);
      --stroke: rgba(0,0,0,0.08);
      --muted: #52606d;
      --text: #0f172a;
      --orange: #ff7a00;
      --orange-2: #f25f00;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, sans-serif;
      padding: 16px;
      transition: background 0.25s ease, color 0.25s ease;
    }
    .card {
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: 14px;
      padding: 18px;
      width: min(420px, 100%);
      box-shadow: 0 24px 60px rgba(0,0,0,0.4);
      text-align: center;
    }
    h1 { margin: 0 0 10px; font-size: 22px; }
    p { margin: 0 0 12px; color: var(--muted); }
    .badges {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap: 8px;
      justify-items: center;
    }
    .store-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 190px;
      height: 56px;
    }
    .store-badge img {
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      display: block;
      border-radius: 10px;
      object-fit: contain;
    }
    .theme-toggle {
      position: fixed;
      top: 12px;
      right: 12px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer;
    }
      :root[data-theme="light"] .card { box-shadow: none; }
      img { background: none; box-shadow: none; }
      :root[data-theme="light"] .pill,
    :root[data-theme="light"] .tag {
      background: rgba(0,0,0,0.08);
      border: 1px solid rgba(0,0,0,0.14);
      color: #0f172a;
    }
      :root[data-theme="light"] .eyebrow { color: #52606d; }
  </style>
</head>
<body>
  <div class="card" id="fallback">
    <button id="themeToggle" class="theme-toggle" type="button">ðŸŒ™ Tema</button>
    <h1>Otvaramo pravu prodavnicuâ€¦</h1>
    <p>Ako se ne desi automatski, izaberi store:</p>
    <div class="badges">
      <a class="store-badge" id="androidLink" href="#"><img src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png" alt="Get it on Google Play"></a>
      <a class="store-badge" id="iosLink" href="#"><img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/en-us?size=250x83&releaseDate=1602460800" alt="Download on the App Store"></a>
    </div>
  </div>
  <script>
    (function() {
      var params = new URLSearchParams(window.location.search);
      var android = params.get("android");
      var ios = params.get("ios");
      var fallback = params.get("fallback");
      var ua = navigator.userAgent.toLowerCase();
      var isIOS = /iphone|ipad|ipod/.test(ua);
      var isAndroid = /android/.test(ua);

      if (android) document.getElementById("androidLink").href = android;
      if (ios) document.getElementById("iosLink").href = ios;

      var target = isIOS ? ios : android;
      if (!target && fallback) target = fallback;

      if (target) {
        window.location.href = target;
      }
      const toggle = document.getElementById("themeToggle");
      const saved = localStorage.getItem("theme") || "dark";
      document.documentElement.setAttribute("data-theme", saved);
      const setLabel = () => { toggle.textContent = document.documentElement.getAttribute("data-theme")==="light" ? "ðŸŒ™ Tamna" : "â˜€ï¸ Svetla"; };
      setLabel();
      toggle.addEventListener("click", () => {
        const next = document.documentElement.getAttribute("data-theme")==="light" ? "dark" : "light";
        document.documentElement.setAttribute("data-theme", next);
        localStorage.setItem("theme", next);
        setLabel();
      });
    })();
  </script>
</body>
</html>
